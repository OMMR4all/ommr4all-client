<app-api-error-card *ngIf="task"
                    [apiError]="task.apiError"
                    (dismiss)="task.dismissError()"
></app-api-error-card>
<mat-card>
  <mat-card-header>
    <mat-icon mat-card-avatar>settings</mat-icon>
    <mat-card-title i18n>Settings</mat-card-title>

  </mat-card-header>
  <mat-card-content fxLayout="column" fxLayoutGap="50px">
    <div fxLayout="column" fxLayoutGap="5px" fxLayoutAlign="start start">
      <div class="mat-h3">Preprocessing</div>
      <app-algorithm-predictor-settings
        [algorithmGroup]="AG.Preprocessing"
        [book]="book"
        [bookMeta]="bookMeta"
        (typeChange)="algorithmParamsChanged($event)"
      ></app-algorithm-predictor-settings>
    </div>
    <div fxLayout="column" fxLayoutGap="5px" fxLayoutAlign="start start">
      <div class="mat-h3">Staff Line detection</div>

      <app-algorithm-predictor-settings
        [algorithmGroup]="AG.StaffLines"
        [book]="book"
        [bookMeta]="bookMeta"
        (typeChange)="algorithmParamsChanged($event)"

      ></app-algorithm-predictor-settings>
    </div>

    <div fxLayout="column" fxLayoutGap="5px" fxLayoutAlign="start start">
      <div class="mat-h3">Layout detection</div>

      <app-algorithm-predictor-settings
        [algorithmGroup]="AG.Layout"
        [book]="book"
        [bookMeta]="bookMeta"
        (typeChange)="algorithmParamsChanged($event)"
      ></app-algorithm-predictor-settings>
    </div>

    <div fxLayout="column" fxLayoutGap="5px" fxLayoutAlign="start start">
      <div class="mat-h3">Symbol detection</div>
      <app-algorithm-predictor-settings
        [algorithmGroup]="AG.Symbols"
        [book]="book"
        [bookMeta]="bookMeta"
        (typeChange)="algorithmParamsChanged($event)"
      ></app-algorithm-predictor-settings>
    </div>

    <div fxLayout="column" fxLayoutGap="5px" fxLayoutAlign="start start">
      <div class="mat-h3">Text detection</div>
      <app-algorithm-predictor-settings
        [algorithmGroup]="AG.Text"
        [book]="book"
        [bookMeta]="bookMeta"
        (typeChange)="algorithmParamsChanged($event)"

      ></app-algorithm-predictor-settings>
    </div>

    <div fxLayout="column" fxLayoutGap="5px" fxLayoutAlign="start start">
      <div class="mat-h3">Syllable detection</div>
      <app-algorithm-predictor-settings
        [algorithmGroup]="AG.Syllables"
        [book]="book"
        [bookMeta]="bookMeta"
        (typeChange)="algorithmParamsChanged($event)"
      ></app-algorithm-predictor-settings>
    </div>
  </mat-card-content>
</mat-card>


<app-book-step-page-selector
  [operation]="pageSelectionAlgorithm"
  [selection]="requestBody.selection"
  [bookCom]="book"
></app-book-step-page-selector>
<app-book-step-tasks-control
  [tasks]="tasks"
  [permissions]="bookMeta.permissions"
></app-book-step-tasks-control>

